'use client';
import clsx from 'clsx';
import Autoplay from 'embla-carousel-autoplay';
import useEmblaCarousel from 'embla-carousel-react';
import { EmblaPagination } from './embla/embla-pagination';
import styles from './feedbacks.module.scss';

const reviews = [
  {
    name: '–°–≤–µ—Ç–ª–∞–Ω–∞ –ú–∞—Ç—É—à–∫–∏–Ω–∞',
    date: '9 –∏—é–ª—è',
    text: '–†–µ–∫–æ–º–µ–Ω–¥—É—é!!! –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ, –±—ã—Å—Ç—Ä–æ, –µ—Å–ª–∏ –Ω–∞–¥–æ —Å—Ä–æ—á–Ω–æ, –∏–¥—É—Ç –Ω–∞–≤—Å—Ç—Ä–µ—á—É. –û—á–µ–Ω—å —É–¥–æ–±–Ω–æ, —á—Ç–æ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ—á—Ç–æ–π –∏ –ø–æ—Ç–æ–º –ø—Ä–∏–π—Ç–∏ —É–∂–µ –∑–∞ –≥–æ—Ç–æ–≤—ã–º –∑–∞–∫–∞–∑–æ–º. –°–æ—Ç—Ä—É–¥–Ω–∏—á–∞—é —Ç–æ–ª—å–∫–æ —Å —ç—Ç–æ–π –∫–æ–º–ø–∞–Ω–∏–µ–π –∏ –¥—Ä—É–≥–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥—É—é. –°–ø–∞—Å–∏–±–æ, —Å –í–∞–º–∏ –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!!!!',
  },
  {
    name: '–í–∞–ª–µ—Ä–∏—è –ú–µ—Ä–∑–ª–∏–∫–∏–Ω–∞',
    date: '1 –∏—é–ª—è',
    text: '–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–µ—á–∞—Ç—å, –∫–ª–∏–µ–Ω—Ç–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –Ω–∞ –≤—ã—Å–æ—Ç–µ. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª –≤ —Å–≤–æ–µ–º –¥–µ–ª–µ. –í—ã–≥–æ–¥–Ω–∞—è –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–µ—á–∞—Ç—å',
  },
  {
    name: '–ê–Ω–∞—Å—Ç–∞—Å–∏—è –ö.',
    date: '4 –¥–µ–∫–∞–±—Ä—è 2024',
    text: '–í—Å–µ —Å—É–ø–µ—Ä! –ù—É–∂–Ω–æ –±—ã–ª–æ —Å—Ä–æ—á–Ω–æ —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å —á–µ—Ä—Ç–µ–∂–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –ê0 –∏ –ê4. –¢–∞–∫ –∂–µ –±—ã–ª–∞ –Ω—É–∂–Ω–∞ —É—Å–ª—É–≥–∞ —Ñ–∞–ª—å—Ü–µ–≤–∞–Ω–∏—è –∏ –±—Ä–æ—à—é—Ä–æ–≤–∞–Ω–∏—è. –°–¥–µ–ª–∞–ª–∏ –±—ã—Å—Ç—Ä–æ, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ, –Ω–µ–¥–æ—Ä–æ–≥–æ! –°–ø–∞—Å–∏–±–æ –≤–∞–º!)',
  },
  {
    name: '–í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –ë–æ–≥–æ–º–æ–ª–æ–≤–∞',
    date: '28 –Ω–æ—è–±—Ä—è 2024',
    text: '–û—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, —Ü–µ–Ω—ã –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–µ, –±—ã—Å—Ç—Ä–æ —Ä–µ–∞–≥–∏—Ä—É—é—Ç. –ü—Ä–∏–≤–µ—Ç–ª–∏–≤—ã–µ —É–ª—ã–±—á–∏–≤—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏. –ü–µ—á–∞—Ç–∞—é –ª–µ–∫–∞–ª–∞ –¥–ª—è –æ–¥–µ–∂–¥—ã —Ç–æ–ª—å–∫–æ —É –Ω–∏—Ö.',
  },
  {
    name: '–ù–∞—Ç–∞–ª—å—è –ú–∞–Ω—É–π–ª–æ–≤–∞',
    date: '7 –Ω–æ—è–±—Ä—è 2024',
    text: '–û—Ç–ª–∏—á–Ω–∞—è –∫–æ–º–ø–∞–Ω–∏—è üëç. –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞–∫–∞–∑—ã. –û—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ —Å—Ä–æ—á–Ω–æ –Ω—É–∂–Ω–æ —ç—Ç–æ —Å–ø–∞—Å–∞–µ—Ç. –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–µ—á–∞—Ç—å. –ú–Ω–µ –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç—É –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω–æ —Å –Ω–∏–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞—Ç—å. –ë—ã–≤–∞–ª–∏ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ –ø—Ä–æ—Å–∏–ª–∞ —Ä–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –≤–æ –≤–Ω–µ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è, –≤—Å–µ–≥–¥–∞ —à–ª–∏ –Ω–∞–≤—Å—Ç—Ä–µ—á—É. –ë—ã–≤–∞–ª–æ, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –æ—à–∏–±–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö, –æ–± —ç—Ç–æ–º —Å—Ä–∞–∑—É —Å–æ–æ–±—â–∞–ª–æ—Å—å, –¥–æ –ø–µ—á–∞—Ç–∏. –û—á–µ–Ω—å –¥–æ–≤–æ–ª—å–Ω–∞)))',
  },
  {
    name: '–ú–∞—Ä–∏–Ω–∞ –ó–∏–±–∞—Ä–µ–≤–∞',
    date: '7 –Ω–æ—è–±—Ä—è 2024',
    text: '–ó–∞–∫–∞–∑—ã–≤–∞—é —Ä–∞—Å–ø–µ—á–∞—Ç–∫—É —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å. –†–∞–±–æ—Ç–∞—é—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ, –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ, —á—Ç–æ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —á–µ—Ä—Ç–µ–∂–∏, —Å—Ä–∞–∑—É –ø–æ—Å—á–∏—Ç–∞—é—Ç –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ —Å—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ö–∞—á–µ—Å—Ç–≤–æ –ø–µ—á–∞—Ç–∏ —Ö–æ—Ä–æ—à–µ–µ!',
  },
];

const reviewsUrl = 'https://yandex.ru/maps/org/kpk_print/137399331691/reviews/';

export function FeedbacksSection() {
  const [emblaRef, emblaApi] = useEmblaCarousel({ loop: false, duration: 30 }, [
    Autoplay({ delay: 3500 }),
  ]);

  return (
    <section id="feedbacks" className="section-pt">
      <div className="container">
        <h2 className="h2 h-pb center">–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>

        <div className="embla" ref={emblaRef}>
          <div className="embla__container">
            {reviews.map((r, index) => (
              <a
                href={reviewsUrl}
                target="_blank"
                className={clsx(styles.slide, styles.card, 'embla__slide')}
                key={index}
              >
                <Feedback {...r} />
              </a>
            ))}
            <div
              className={clsx(styles.slide, styles.showMore, 'embla__slide')}
            >
              <a href={reviewsUrl} target="_blank" className="link-blue">
                –ß–∏—Ç–∞—Ç—å –≤—Å–µ –æ—Ç–∑—ã–≤—ã
              </a>
            </div>
          </div>
          <EmblaPagination emblaApi={emblaApi} className={styles.pagination} />
        </div>
      </div>
    </section>
  );
}

function Feedback({
  name,
  date,
  text,
}: {
  name: string;
  date: string;
  text: string;
}) {
  return (
    <div className={styles.item}>
      <div className="subtitle">{name}</div>
      <div className={styles.infoWrapper}>
        <Rating />
        <div className={clsx(styles.date, 'info')}>{date}</div>
      </div>
      <p className={styles.text}>{text}</p>
    </div>
  );
}

function Rating() {
  return (
    <div className={styles.rating}>
      <Star />
      <Star />
      <Star />
      <Star />
      <Star />
    </div>
  );
}

function Star() {
  return (
    <svg
      className={styles.star}
      width="16"
      height="16"
      viewBox="0 0 16 16"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M7.985 11.65l-3.707 2.265a.546.546 0 0 1-.814-.598l1.075-4.282L1.42 6.609a.546.546 0 0 1 .29-.976l4.08-.336 1.7-3.966a.546.546 0 0 1 1.004.001l1.687 3.965 4.107.337c.496.04.684.67.29.976l-3.131 2.425 1.073 4.285a.546.546 0 0 1-.814.598L7.985 11.65z"
        fill="currentColor"
      ></path>
    </svg>
  );
}
